import { Stack } from 'expo-router'
import { SafeAreaProvider } from 'react-native-safe-area-context'
import { useEffect } from 'react'
import * as SplashScreen from 'expo-splash-screen'

// Empêche l'écran de chargement de se fermer trop vite
SplashScreen.preventAutoHideAsync().catch(() => { })

export default function RootLayout() {
    useEffect(() => {
        // Cache l'écran de chargement après 1 seconde
        const timer = setTimeout(() => {
            SplashScreen.hideAsync().catch(() => { })
        }, 1000)
        return () => clearTimeout(timer)
    }, [])

    return (
        <SafeAreaProvider>
            <Stack screenOptions={{ headerShown: false }}>
                <Stack.Screen name="index" />
                <Stack.Screen name="(guest)" options={{ headerShown: false }} />
                <Stack.Screen name="(artist)" options={{ headerShown: false }} />
            </Stack>
        </SafeAreaProvider>
    )
}
